# See "Extended cd#0" at http://zshwiki.org/home/examples/functions
if [[ $# == 1 ]]; then
  if [[ -f $1 ]]; then
    builtin cd $1:h
    return
  fi

  if [[ ! -e $1 ]]; then
    local _create_dir
    read "_create_dir?Create '$1' [y|N]? "
    if [[ $_create_dir == "y" ]]; then
      mkdir $1
      builtin cd $1
      return
    fi
  fi
fi
builtin cd $*
